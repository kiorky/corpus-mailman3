{% set cfg = salt['mc_project.get_configuration'](project) %}
{% set data = cfg.data %}

# This is the absolute bare minimum base configuration file.  User supplied
# configurations are pushed onto this.
[mailman]
# This address is the "site owner" address.  Certain messages which must be
# delivered to a human, but which can't be delivered to a list owner (e.g. a
# bounce from a list owner), will be sent to this address.  It should point to
# a human.
site_owner: {{data.site_owner}}
[paths.here]
# Everything in the same directory
var_dir: {{data.var_dir}}


#[database]
#class: mailman.database.postgresql.PostgreSQLDatabase
#url: postgres://mailman:mailman-db-password@localhost/mailman

[archiver.hyperkitty]
class: mailman_hyperkitty.Archiver
enable: yes
configuration: {{data.app_root}}/mailman-hyperkitty.cfg

[archiver.prototype]
enable: yes

[webservice]
admin_user: {{data.rest_api_user}}
admin_pass: {{data.rest_api_pass}}
[shell]
use_ipython: true
[database]
